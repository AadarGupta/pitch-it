{"ast":null,"code":"import React from'react';import{ClipLoader}from\"react-spinners\";import useAudioRecorder from'./useAudioRecorder';import useFileUploader from'./useFileUploader';import Selector from'./selector';import RecordingButton from'./recordingButton';import{LANGUAGES,SCALES}from'../constants';import'./audioRecorder.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AudioRecorder=()=>{const selectStyle={control:provided=>({...provided,backgroundColor:\"darkgray\",color:\"white\",width:\"30vw\"}),singleValue:provided=>({...provided,color:\"white\"}),option:(provided,state)=>({...provided,backgroundColor:state.isSelected?\"gray\":\"darkgray\",color:\"white\",\":hover\":{backgroundColor:\"gray\"}}),placeholder:provided=>({...provided,color:\"white\"}),input:provided=>({...provided,color:\"white\"})};const{isRecording,startRecording,stopRecording,uploadedFile,setUploadedFile,selectedLanguageCode,setSelectedLanguageCode,selectedScale,setSelectedScale,pitches,isUploading,showLongProcessMessage}=useFileUploader(useAudioRecorder());return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:isUploading?/*#__PURE__*/_jsxs(\"div\",{className:\"spinner-container\",children:[/*#__PURE__*/_jsx(ClipLoader,{color:\"#FFF\",size:50}),showLongProcessMessage&&/*#__PURE__*/_jsx(\"p\",{children:\"This may take a while...\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pitch It\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:event=>setUploadedFile(event.target.files[0]),disabled:isRecording,accept:\"audio/*\"}),/*#__PURE__*/_jsx(RecordingButton,{isRecording:isRecording,startRecording:startRecording,stopRecording:stopRecording,uploadedFile:uploadedFile}),/*#__PURE__*/_jsxs(\"div\",{className:\"selectors\",children:[/*#__PURE__*/_jsx(Selector,{options:Object.entries(LANGUAGES).map(_ref=>{let[name,code]=_ref;return{value:code,label:name.charAt(0).toUpperCase()+name.slice(1)};}),selectedValue:selectedLanguageCode,onChange:setSelectedLanguageCode,isDisabled:isRecording||isUploading}),/*#__PURE__*/_jsx(Selector,{options:SCALES.map(scale=>({value:scale,label:scale})),selectedValue:selectedScale,name:\"Scale\",onChange:setSelectedScale,isDisabled:isRecording||isUploading,selectStyle:selectStyle}),/*#__PURE__*/_jsx(Selector,{options:LANGUAGES.map(scale=>({value:scale,label:scale})),selectedValue:selectedLanguageCode,name:\"Language\",onChange:setSelectedLanguageCode,isDisabled:isRecording||isUploading,selectStyle:selectStyle})]}),pitches.map((pitch,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:pitch.note}),/*#__PURE__*/_jsx(\"h1\",{children:pitch.frequency})]},index))]})});};export default AudioRecorder;","map":{"version":3,"names":["React","ClipLoader","useAudioRecorder","useFileUploader","Selector","RecordingButton","LANGUAGES","SCALES","jsx","_jsx","jsxs","_jsxs","AudioRecorder","selectStyle","control","provided","backgroundColor","color","width","singleValue","option","state","isSelected","placeholder","input","isRecording","startRecording","stopRecording","uploadedFile","setUploadedFile","selectedLanguageCode","setSelectedLanguageCode","selectedScale","setSelectedScale","pitches","isUploading","showLongProcessMessage","className","children","size","type","onChange","event","target","files","disabled","accept","options","Object","entries","map","_ref","name","code","value","label","charAt","toUpperCase","slice","selectedValue","isDisabled","scale","pitch","index","note","frequency"],"sources":["/var/www/pitch-it/client/src/components/audioRecorder.js"],"sourcesContent":["import React from 'react';\nimport { ClipLoader } from \"react-spinners\";\nimport useAudioRecorder from './useAudioRecorder';\nimport useFileUploader from './useFileUploader';\nimport Selector from './selector';\nimport RecordingButton from './recordingButton';\nimport { LANGUAGES, SCALES } from '../constants';\nimport './audioRecorder.css';\n\nconst AudioRecorder = () => {\n\n  const selectStyle = {\n    control: (provided) => ({\n      ...provided,\n      backgroundColor: \"darkgray\",\n      color: \"white\",\n      width: \"30vw\",\n    }),\n    singleValue: (provided) => ({\n      ...provided,\n      color: \"white\",\n    }),\n    option: (provided, state) => ({\n      ...provided,\n      backgroundColor: state.isSelected ? \"gray\" : \"darkgray\",\n      color: \"white\",\n      \":hover\": {\n        backgroundColor: \"gray\",\n      },\n    }),\n    placeholder: (provided) => ({\n      ...provided,\n      color: \"white\",\n    }),\n    input: (provided) => ({\n      ...provided,\n      color: \"white\",\n    }),\n  };\n\n  const {\n    isRecording,\n    startRecording,\n    stopRecording,\n    uploadedFile,\n    setUploadedFile,\n    selectedLanguageCode,\n    setSelectedLanguageCode,\n    selectedScale,\n    setSelectedScale,\n    pitches,\n    isUploading,\n    showLongProcessMessage,\n  } = useFileUploader(useAudioRecorder());\n\n  return (\n    <div className=\"container\">\n      {isUploading ? (\n        <div className=\"spinner-container\">\n          <ClipLoader color=\"#FFF\" size={50} />\n          {showLongProcessMessage && <p>This may take a while...</p>}\n        </div>\n      ) : (\n        <div>\n          <h1>Pitch It</h1>\n          <input\n            type=\"file\"\n            onChange={(event) => setUploadedFile(event.target.files[0])}\n            disabled={isRecording}\n            accept=\"audio/*\"\n          />\n          <RecordingButton\n            isRecording={isRecording}\n            startRecording={startRecording}\n            stopRecording={stopRecording}\n            uploadedFile={uploadedFile}\n          />\n          <div className=\"selectors\">\n            <Selector\n              options={Object.entries(LANGUAGES).map(([name, code]) => ({\n                value: code,\n                label: name.charAt(0).toUpperCase() + name.slice(1),\n              }))}\n              selectedValue={selectedLanguageCode}\n              onChange={setSelectedLanguageCode}\n              isDisabled={isRecording || isUploading}\n            />\n            <Selector\n              options={SCALES.map((scale) => ({\n                value: scale,\n                label: scale,\n              }))}\n              selectedValue={selectedScale}\n              name=\"Scale\"\n              onChange={setSelectedScale}\n              isDisabled={isRecording || isUploading}\n              selectStyle={selectStyle}\n            />\n            <Selector\n              options={LANGUAGES.map((scale) => ({\n                value: scale,\n                label: scale,\n              }))}\n              selectedValue={selectedLanguageCode}\n              name=\"Language\"\n              onChange={setSelectedLanguageCode}\n              isDisabled={isRecording || isUploading}\n              selectStyle={selectStyle}\n            />\n          </div>\n          {pitches.map((pitch, index) => (\n            <div key={index}>\n              <p>{pitch.note}</p>\n              <h1>{pitch.frequency}</h1>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AudioRecorder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}